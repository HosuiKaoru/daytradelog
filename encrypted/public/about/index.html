<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"417eabb00246ff036b0a0ff9b5af1f6ba9f95155a69cdba2e08cc5a8971009548ebec39312bac38be0477f7d4a9e2b48ed5c38872a3a2cac788d6e4bf87fbfc0a3b1c265853a97eb440eb8de3c37187208c82a17dc0af9768e83c26b4582e5b03c758f92b61d42e99807626ce83ef6e667a5fb0042729ed2d3ea3cad9958bb72581a5e7b1b5fe9ed1bc14612d46ef142d9b716a24d6875c0786d02b6e7135acef792b654f94c90e3f83ce9a7bd959683f3b949b8158e0a2678d41e382b0405bf26d0b0525ee6693e54524a900b1c8c158e9303b44c906743cb418ac3fd6bd35df4db4f3b180119db7cb2de0a486a8b2f1866d3f447b5ee2ce7611105a8d6ff563ba5ceae90204bf36755974a65bdeceb34f74060ca162267ded15714cfaf1faa05f2f1a2201d572228a0fe091069ddc706bb97a09db8b41de548bb7d6bc7f899d043ddcb09f234252f2b4fc0bf80b989ad907a8935f524e054a64d41215c0f717161eb44e4a0bc8b56a1279776fa03666ec444a9d1acb8dd2c60ca79a8780102346404268581a461bd5d4859c10e1f8d89fe3d6e9e7e4894ad67683e0036698db9f113a821e0977b77ebdbf598aedbd06293d5389a293a2ea67b81c51ef56d31e833051d459fa0655d73af0b2cc50d559cd307201ed9c3f71d37fc77a9d4b014180e200aa81ebd8e747fcd7f2c67cee0491fdb5fe05f63d6addc160c8078966eda5cf770a17544d37d9dc56c5eda8076dc984c5dba42027d0fa00e231f8c3c79c029fecdee70f51a2fcd0b14b59c7476aedc68b9005f4919d2488aff4a828bef09fb9d10faf5efc4ab523fb5a83f19e1ba5338036fac623a8fdc25714dd1bb20e01de6bfb946c9c8880f7f6ef66dc83339436a134026b4d79f1d8e506ea5e892f15108039f4df9fa31cc2005441d0caf54f5640a7e51956dfa41dd169e0345fba8511072d0a5aeec015f568271dbc03b12710c62c51512f89e6a2d36c491eff6227c6e07f2e5d179cfba729f683569728247c65ebc3a30d2467f717bdf5a8a5ca437220993daeb37e672db6342ac58c5cdfb63b58d8c2ddecf3a87942dd0869fd7a5fd55d425012ad90c9ead936080685da31eb3f6c7a6786744feb002e40ce015a1f0a0a2552b7451788bc7365e151e59d1a85b0dd88e6375f75f09a32a348a9a21037fa6ab068ddfd4284ae7aeb64b85737950562fe414cc1cfb59a97060729e2e0be5d74b3c13df9c176c67afa5704b2e503f943c11a9499eeba1c24241c8181cc78886dac1f1065cd6e5566a1da11f0d26411ad675731d515ca6850c2c6d0377c9cc66db0b5e9c10252c808782da50cdf09125862cde9c404b4338d73cc1473b43012ff79126e87fe84868f3c6b261709b92226d34bf4f0c0e293728b2c95fe9cb2c59d80873bdfb9f9e162e4d4bdd7c39dfa4250977d5dfffb57e9cddf634cb8faa1b6dcbf9d492dfc847f10cab69f26f5d43064a3247a16b001564dad4469c553a2ee4b36b04246c6c960ee91ba3d2072320119a24dea843558a2d6e3aba982958bfe56855aaab7d3b9c2567e44ae934a12942c646bfd8f2f6da13949fec45a6e570f3b73809b02dc8690632ab87a5b0b09e66e0c81e90a1d085fea7de405675a2c2b17f4d2dd1ba2d666a95d36be3fb202f513934c799982f4808d3a3cd426a907252e3de2af3111cb770444a47529626fa199264950f5bac9f77b06e3388c1369e4d6b3ffd2d3b8bb55fa882376062e526dfa3bd80bfb9b19c1a208ff02a4d5cb34186ca256ce8102df9a604455f3f051b567315b87dcda977fde9fa414c95d9276915188b9809ce61e7e8042f353e3bf1e26b2bb30743ae7d98a598c87b3069dc414b232808415728cd2b45ea7eca5348259f03991bfa630541fd1fcb0da64ec5eb6951d5809273572a16f223bcf18cc3dd5a5a24750a3dde51eea278a8e03656e568378b01af0b9f31e05e162e8bf698343dc0ed8dbacfd6e6661a85137bf914e2eda0fd1cc5d4ef76edeefae30bfd86b125af419e59336630db61e415d60e474893d34387dd3524733719b6d1c36dacd90338ee8cefa469269765c11766a20b337a39f9b1ed9548deab670b0427818e5da4d97be02b03d85b8b4efa3acf34978248f7847424ab30e20f150c94c509111ff1882afc58b03637ad8aa05ad89cc4fb0628c22cfd7355b4f0b90504be5f4f32ee21e6f4fd8b914b8638e9452ae0512d02fcf7210698fd7839e92a3ed2f95fa8803fee096095a5852d007c7b786ea553ae4b7dc622557ef2bc322da569950deb0daf629eb60f8df4e69707162b4dae147f6d22b5b9994ab779334a998606943f64510ad91f620d9f13bc383048ec4fbe23ee1ea06edf266ebca41ebf91f4c93b0c90144e150ef8a2b5177905561f096702ae5994e6f6b53c6e58c24439773934feebecde2999b1ce751bf7052337ea3cca4ab0b25a897f8e4b31f09d7d77f7b715e354e8fa31e39129dd7bf9b7cdf061519bfc6fef93bee47ac6b5fdf4f10ed9191cea9eb4e421c5cccfc71bed4eb32d871b5d088b33432cc32deac4a4cec448f48619874cc0a7c9b334ebfa12fb5aaf1acbd34176cfefdf51ef162b6532fe9317ec53e2f755a4fbfb8582d4fe93dbfd85486319f189dc2e29b2f5f874a2f7d30650bf393efe3dec5ac02354b9faaacd69a14656c133574fe9a261c8ca105b2ff001e8dea6ab48e5335a85db1f3fa6603bdb81c54a45ac2f98a607374f1833ef64c0d40836b410ac6b3402cada4b94e87afe3964ed572ac201977de6a3fd108269eae21e274b84721ca1f30f677061582946fb7379115e91fb3649bdc9204e30f4e9b1def036d345a15af9b2984c02b8586c4c1b24c8fbe20c2fc25f71862d7eb9f99104ba3051548c484013c5c80493b1443c201abfc8d10c3245c277cfb9e76162cfe2d40374180f88e315c407bb64764fcd20bffe6e80fbfde812b9d1f434d28e5f2efe2fb58f7269989cf444bd090264ddf7a6c080afed71532a9b575b15684b7879110ef7abf5c091e9daaf599acb5ba584ffb12d44f57e7a7e7b04f2de2e9f66b4199332e783bea8aec4adab388d84c83da9f28ffab5d4536a3d284683237283cb4a7eea007ae463415efbaf3156c324037678278f0672b1f653a855ea691869a338aee415b4831424896fdcab08119cde9923fe214a65873ee1583c99b4e2a3a9c5bbdad4a7bcb766c86cb559817913f8dbc92d02e99eea77173b0510f39d33c64f37b9d8280027c92d7ecb74523ecd00f441f72957a66389b6f91bc2b4e9c8652c976078bae95913964f7c8c50951c8202b6d8881e6b8f82fb372ed8e215bac45d740bcd814dd92a7627b33b799d916769076de04d63a3fc9057f5b61379ac1bdd8c6bc96e2d51df823b90bfadaa713fd259e18e7c7935f61cc186b27a0babfcd413cd0a947ab01cc378f0b9ce0088d1375e302bd85a04bf0025c2f56f6f72e0bdb2be39832631539db050e5a8d4f355e4415d78695d1a627f72137833b05db2b9455fb1d1263925bc2a0b98f0b39a235738b64815c6b29c8a6fe376c02f56657f4461d4787789b3c1b12192a1bc2cfe8a72e56ce0d3657dc670e74c03e627161ae8263cd23d49f4f4ca0a6aa77216b87a05d1181d6045f7f564201b58928f0f914f395c9a6944df97dd81aef385ce9f951c5c16d11f34d98056f0c3001a4e915b42f682b58be71d28785e8f28e655a34ddb3cdbf784db455b2596ae1c9c3ae6e58f26c97e08046acd8bf9b05c9b22f572f06d38ea5e8aba89843a9b5b59fb7d568a455963edc40196c3778385d441c9e16dd2cbbdf0410317009d40ea2f835a38c98ac794fb53b8106c19ead88391f06c85da32677213788e14d9f63c8d35f4403db15570549dc1e1ac91bad7e225ce3a17277e1f63ebd2e3a2624d3d01bc327556234ad6aa516746f1d4427ad384325850074eb9ed140608db8b4c0bdadac00b479084f89d8d85063955b958dafdb31966bc23916dc5c96706659bd685b8abf094dc2137082474560c8c8bc4ea6d51aec6f2226cdd0565bbcacb6e68c59e759923f49c5d40f5ca83580b4b4b98409284449b0b15cef2c0c11312ab7eeda70246a503ed02cf4c0e938fab2d8b40d5778a63e9544f77c303922629645a6b006a7aee62a35bca260f53690044de2f42d10f9da26fc7ec45dd962e16031f4ec20026d31dec02ad9343a68e15c34456a35d803237c09db7e5674b46e7d0184048b3b4ea561f16b3998aa77cb45a7af1ae983dcdc071e77e5de3f36a0e1af61059f506e4291b0a546c4ebf1384353124353eea785fb7f6b9283faa788923be7e44662c88700c107a33556b8af9480242d27e771c4f95c12bbbd987c01c860a1527ea2aea537ac1ba82c60502f1aef06d0b31240102582a6ae9345b393b512c3fb261f72d65a09ffa0d2eecc79868543892f45dd41ddfacb70fb4d48f906977414392ad6393b7ba2bcbd0aa6810858cfcbe512c4d9539fad89e8a98c87d380259c74bfa9f2217c1f97c2cd661a8baa0e6bc70828a6a16ec3f1f0b039aaee1402f66c17ff9655ec1fea9d0c3dc52c638ad2ed2cfb6cec8e68534705094c7bbbb9a79183d91e377a9d916f0c2245aefe217b9ef769b65155787b2090c7a8342e22d6211fde74b477baa143b26d6957d9e303cec4a880648216dc08455033061bde39d1a1999aeeeca4e1688f988aaa68ab24a30de8de62ba6d78917d83f2fd3db06f6e2a19b822039ff1d0c43fd5d607061f75939901b3fbd994af233948a3f655170952ee7997f0dde50115e753b61f91acf766ad9787c6d46ebf865b0eaf3c8da34647d104fb33836cbb19040f9c8a5d163bc8f52e9d5e17f2e1edc66e086bd9cbf03137a8817319cb6c0a27c2d3c0a74d880876214ad069bde2450a702b755ba19eeecadcb5570e50def45dbf912ac2d2928f926ce71ac47166bc9aef7e1d7398b89c53d0c5b0c802e98b54786b528af2dd6a74b42e968fcd702caddf40ab198b8bb6d0df4d062324cc0fc121dbd991fc677d4385504cebf48266b3f47694aacb004fecd43135a4bc479469a90bba33be4ab5d8e5efaef10762cb874699d8c027fb1131d13d2e916c2497aa51971caea6e71ef4f5d6e2a04c21da60681c12f7ee701fe35e55bb52fc4b852039829fbd29d4134f6e1994a62f89b747d3125919b4be9fbd961a9da59c382096d8f76f4b889ee4ecd5e5ac3eba97900acba70bd297e6487742a3086e0ae1e2168fc10b08d940d68249c8b62a3cd1b4c5ef2311a09e1481846e78751fb9d5cd1b2c12f2a052376a7d42a1fc5d8112f3d3873e94d02ca47e9d7737dd69f53eaa1a0c7ce33a156aeef8f795bf57fc18ae13daf4e3b360c298208378ee5ddb1624141643b57f834a39a8b374615dd379af848a3535a2f83e7b7b3c525e36fad8d64579bd44e2aa3ac488c97893c94a0708e26ca42b18dc387b7b95a2d89822c3e904d9886e1890ddebf8708d7a6800b0dc9d008edc360281c31e4b96f650a5d72c349a8d470ea5c6b91d5e97fb0e22c061154a5e2fdcd5a67a49b82c57b288ede73a4037b83aa90c35b9d5dc3fd65c982fef6382be49a7f2c8557555707578b6071238e3c687d65fba324c2d3a2da654a5b2ae3826e4ba0eeaadeab547eb8fdd36e95a518db0379909fe00ee6d9d09ba7fc6aec03002f165cded53921971d86335a97f578c74c11d443f641379f37fbabbc1db188a58998f31de9267ec3425d4800cef84295e1420d2b480b9bc64a257907473a166dabbeee592e149555f2eefe02721fcd5ae207011936676fcda9a7684bde62e3988855c370aa794aa9b86d6bc9ffd15fe0c508e52fd7c1aad688c0f171817da2bcfed668039e5d4ccfcf72677f580096d8d0081fd0f6fec282c11cf8283d371a7d85aedadd0e0948fc827592859fbeb47564bf1453720e840f2e7b35a4e77d0d3996e8eece87dcbc0453c125e20ddbe4dafc9380609e5f4127a256a1e4dee852f14699a264bf1ccf8c1c13c475b5dbd71757bf50f3424df33a29647ed522d02f4789486c09fffcca056a5078698e892d8620033b3fda1fa80ca473666a86bb3e18b25027db513036b2c3fcd087ccc4ade3e8e35cf32ea89c4874cef3569a22b0ae94854a39bcb274d4c7f1adb4ac23ca60c44f3e091975d48520f1d015da5382c57a07aad4c02ae3ab3735c7d8e0a4f5a31cf633664471ba35e2a3f80c54212dbebf907094b43fc472758e2842cebf7ff746a86d8a4c6342c03cfd177fc2ebea976ffafa68359234301e9e9d2f65272093f1a7b5b22e7bd1fde8b96328db8dd2f546422f0c0b7bc1a2cd095da07fa7d21473f7dea60761e83edaff23fed5666d0903a099d5b439512fbff504813c45c048f5ead9d43a7b92049fee527602706af2769904fe381709e212ec98573cfe0956245dcc0253e358e2d536747016937eb4c3e48511c129755193615e4da9ef5ff23a7d0d83b3ba18a34ae19571bfa23d7023c2d8ad766f850fcf9b89077376520af33737d1ae4fac3d72ad1bfb5989f1f070e2f094e9327de34f7358421bda2b761114ea2e1a1ec299d9c8ba3c17b8fd846be5f0bad7dcd5a2ae160dd5aff2c24000edd3754aa68c5586d9ca8afb10abaf597d61c8f6f4f4630770732ca07ea2ad1e43435fd26549de3f4b11bf47dc13553002006c9e775eaae6f33fc80e9086eb850fd76cac05ff25fff78bf4fbbd985ddd29250774882aeb66920b48e8fd728fd183fd040f97069395aa450193cf14a8e23eb415a370eea4325d991137b9d6ace6c88ca4714c0a9e7c15efdfe942750d51b118984b19b386c5c9600bda31bc43b66bd7fcb72a6d6965851f25c16c5c250355a6532d7e00bb00cd25650809d776974262a6a31c0f6fce3ef999facb74f32a1caf6c08c0f30cf35a09a2f62e5d49b2b6645ab23e0321cdd1bd5d300d8491ba20c37f71d0211d6fb034fdf67a2c0ab037fbf18e4a441c20982c7959b50157f3776c7a788045d60f90cf623040ff9910d75a73b809522975343acec0c0185d898bff5553bf0325ff0dbd5926b3b2a3e94849a5b7815ec9af628fb2ad7d55644e5c48aca9927f43e6219255ee63d53c496bc0050173a0c7c27bda1e10f81d376134fa844eaa26982b6def4abaa1554b1bfb2f2898b2a66824cbf48330dfedc0dc2b6cdb2f69a7aa09652486a4ed5dc7994c27d5e4ff3511da386d6d04a6092569aaf184f7ad8a4bdb7239560195db5f60d9060ddb5a91e62d7224320544eddf62d677054a7edae2459da65a397659b8f10321057eeea4e3f1b95a33f17144a5092336d7d1a2e2d9cd8a03d4efcd4b5716042403be4817c0772097cef18055620ed9f28f7b67694f87293aeaa933da70486f39f4f0e5068c4c263cee0267098b8627268cf7d7b4d5a727967da9a4be0862df6b43a9e746021112d61b6573fbff316e118126f86697da78c99fbddc0de4ac84dbf61f011347e47a534ec92af923039db5279a06394733fd02c8c65dc110eeb00dd952d06cf2662558481dbb393e063cf2828294726bb0625643a547b25d98ae91d7fd79b7506937a4c4d6437b6efae5580540594c9a47d097227840325cecf31412a5813893a1ad08066051b0952923a863bccf19ef32feec42dc92be57e4040729730168d898d04a06bfb9879302450564a790e3a897f06f7a70fe18dbd3058a949dd1350a925f19a07467f7d8de3b85dbe30de4e362d9dc47bcff70f34c79ecdc9e0562ec35f13495eca6a32c37f7bb6943f8299c4a3b74a8907332f38d13e0cd26f2e880fc05404f90a8242cfa4f99e0b0c99256d52d0a3100eed618caac4e2d836ef993dfc6785c1c4832f23a8bd22fd39787bd74743bcdbb3a97c9fe2df6f957cd79d9a3c098832e7ffa7a5ce5469753c6684fef654091ba7c32471d3720714efedda7e2c632bb88c1a394b98ececc74120b1ad9d01a571014a12c00ba138bcbf7b27b8b3b16d7d38e1381f90dafec51cb1b53d3276c5ccf5ccb828fc7307ed6a8558be32265d55f9de8d8b550f1a797e5d83f125e381f403a6ce3fcdff11c387cb44e77daa426feccf294f8fa6580b042ab0bb3bbf2cc74a57163e2cf23231842e862ed55ff5dcd20907f1c4308f88644e6787d94c8c392f1369a0d3adeed06674db60b3e744f9cc0fc0a18c3e3d2348cfe5096e375fc52f2d4e6a677928ef05696dc5c2729a3566af68f3992c59556b898616f41a856fbcf5d14daffec574aa3712b5ba7bce2875588e10525a1ca54876444764140f737167a9f8a90ca125c801abfaf87e856c81bd0d30072e5375f0219db822111accdc57855be14efc4db7f6b0a56e06318dad3afc50b981d3f57de028b8f26abdb2b43c2f01b6574ea5c09038d0ef3ea8675762dd61fb1f24118c17c04aa0a596916612008446b0f19597050be6da3808aed7202d4461d5ce4c47f26d47e04e23dc3e5eea7e5885b9513c14245a4eda517a2adcfcba11a9efbf405a667f43fe73ffefc9944683b5c3a44a7516247d3cd04bb641b0df6d7742175bf5083ed50cea406cb5f3e1323f2eb7f903a1b944f480a37f2c21904c5e545a038bb871c58045447e9780abd0f502609e5954ad4621945fe1dfbcd31fbb1dd68d8b031b3e55ac6fd15d2489b5c483d39b5eb2d77f04467aae3e00f26b8d60f33fbc373079fe3fe110b94826ae2feaabf442fc6aff3f7d51a1c20a71d616098a9c0cfae3524e2e116449e0ca3302cc2f96a7bd4e7cfd30063f926d09eac085bf3e59695c0eecc957a2d836707112cc7460483861987648e9adc7a322d80d521af2c204140e075d11835f6fb2814c14cb2c0b8b4bd024a60bf83f88156c2d20507772f41d3a65ffdb072c655b9ad6ad8ab9849575132f457c93ae2338155f64d243b774eb354308b225155373867a64242aa0c3d14982ffa69850aa6246fa461b3cbec6fb0ba6ed9caa2922882c4cac35ce875b69b4f113b2b8cc332c61b22dee5330e5b78373d71f9b09bab33c459e6fb56009ed90744edecb2f142fdbf129fdd8c75be422c0d65c2d9645bc75095d50c0682afb33436a8eacc6850060eb535f3f0cb7263b94fa7505b7f3c20c21fb141d17530473ee2ad4dedf027d5d464991b0a1b71d8287c8fd8123e54dc0536d846cd358f8f337a2dbd7abd6c1223452e3595eb34b314c1bd111fe3bda042b0686005b8887ede6f59f157feb73cdbf6a541a55c428bb17bc1b6510c23e8c7617d2e81386f9a59c82d0dd041a30793e31eb9a722da53f3c4bc66461b545e68682ebf3c7bbfe20d6d9861ad87de13d91463f839eca7f4ccc5a17df7c7b18755b2d9f2cee3c3aa366bc653305f44f1a74d3ad04f3aec9dc12fc0a3469b82d2da8a3691c2ff9322f548559ec87adaef69529b2b5382971c4aac636acbc3e9bd5afe3d776855f5acb69adcb861e8d025e638ed5639f8d4c25c73fafdc6eabc0d14ebb4e60ce6eeb354787450e2670a863b9115e0740913abc1fbe88c5ed8908d996c4aa501ff6f0e2512919593af43298f12168d2321e58dac010364d7ec3fa32fc909a6825ffb49ea558f745d61bd9c0bdecacde60970a952fc41c624425a93fb11d941ee76b5d808450db95d837688cb2f3e994fe5b81e9cb31865234e4260e76bc2ee3d419a6d83a8d871b04f4bc3a78bd8169b341cf23ee20d9d91ae525dc048041f851e263c913552e677573e08c32edfbfdd43ec7c06b49c0ad7c5e746d5a7dfe50d942e7df6cab6d7d9663d3178a57f2db42fd92c1cc43bad1e24114fb5e18b7c82b388c903394384d8c7230e9b462e34ddd4fd9f5fc1318fbc66993dbd1ede8af33bea2ded293bf77ba57ad8dd0ac7c049b19a65830c17717553bde4795131475276cc30fd3eb02416f3e503a900a8b9c9a09162643ea2dbb794bc33d77eddde8b6050d2d4288041e984579387f17ecd9bcba10dbc9867249389ed7af588d0bded185817bb450ffdc7721d8f26a67670d2c0f017fdfde2b6dcf8b625b7d137262cc97e86f9370c27805e08f4f087fbf745903e2b6f57b6552d19d50211502588652b6d35f1f2fb13a70960d2900b1c6fb2772f9cba1d461a40826adcad8721b926e91ea9f942c60624a8afb1461ab5fa1d306435c21db38be625c8e199cb20360fa39effef414ff9a36acaa21a691a699ecda0743cb5420781c47f7d486965193227b641c47fcac6791812cbac7ef12f483674e31dc2de6d86d73c106cb7161b582f9342b2426e7a51dec4db57e626660a84e58674d4669243a6398148f570c17731c0af1c7f68964b3199794cee6a59fce8494b80cab7f11fe39afc4b0a5b957d79a87730b659f3305b6da088f8dbb9e208c5313f66c0e2a9cbcf482651ab45c74b4421ee9a0dde2530de97c3477f87900c29d289966d2952da2ec4cbeb0ad57c00c771e5ec9f385f780cb1bb4c219c52c76f95fbf63a77cef7c0102b0e8a5ac00db7c09a1bfaf82b8af1f0d3365353b0e59e3b5957d8107097ba546726de5b0e7a8570a212312cc92db84b8a4f156993b19948e6fb4bee7d3a35560580c91613638563ab3b251877de7f20c616cd42c2e12a3fb71caa4002077cd7111206b398554218a45ca03c51aaf0006863b2c09bc11c6159d4b67107c61680fdf0eb8ebd60235aac6655a92ed6b92ec77962ca16e31deadac5a59ba12ab046bd88be451e8453f422fde0dbc0fe06863e4cbcf77941db748b81e62c30f8641fdea74d869276465be5c9943146199311719bdc36f4109c74a8a7dc55f2fd20c8e77d00c28fd940692fdbc15cbdef316ec573961ac156ffbd1bd45b3ba4c79a54eff476c8a297a6d38d5455b5571d249ee4e3919221591c5f8950c0f2a3a1210945fe6b11383bfd7cb37b926cebb938b469fcfca096b29b13dcf671f644e993058f6c0c3759157250ab87c5ca0ae6f3e581a073220b72062c3cdc25dad2dbc1fa03cdb5406ca5864c3bde3db89f371397041da3ad623c991e2789bade6cf70f2dac166be14220a525ab2cc3a8696319a130b6796517d1726fc4ab5da9378e9241a1de79a47e97623b0837823dcd67bd1f81d374b500d7e15ddb0045f046c0cf91e7877c9e8ad64e3c7254d4262d81742a7fe7e7c77dfc3e405a8a9449f11c29d7732d0729c3c014ce8d21c600b6e9766ce3cf83db34c241b42f26284f62f7ec2341e7cd5dfbed381dc033a7d1845f51fc9087ff7123fefd736b10ec5c35c747b9f887c4cd60c8c558740d43651d53e7e6c16e0a14e4ea4f705aa2c98af1a20e8101b84b5b2d241c1a757fd7bcfcd695ad048fac1ceb660b74fc82337e7e2e34e42bbd36408963942e19e89224901c05b430d93c0c79e12ed25e44f31fca54ef7ba09444a3b5385846fe7d94fe93dfab658d376435c3e8f0e6b4505050da3ff07675bd80595643f011beb745b88df16bbda65ccdf4f3e738902a0e16947054c00f54ac39dfa23f3dc8b4ddcb8b859d3c10d160686485f9a5d901036f739edbbd52c4319c26b66714605be918d5b67909241f5b85177498a9d54f36902c19f9d5ff47f5bd82e2f29ce31e9a25ef96962d7997302ac7f1ad4b19dec1a7d88f188d4b93cfa63d6a17e6f68c0603902d555efa630fee0a96cbda3a72893e426c3843ee44920e5cf0934ebc59eed40d6ee422d0e763525a175ba027934604ee43581f2e9c073015f6bb830f2135aa4f4c935cb9d6139327fa3f3ad0498c6954cf9ffbf97db04df25df44a41cea910ee4829efd798e5b272334745576962dd05f73fd665ed01065fe40529714e0eb36db16e01a2f89709f4db241015a522a42e09c736eaae6a9f4f3650f2b2d7a5600360780cac26831c01d101086ff74a16db77e89513d6c6e592e5a76284c313cd9900dd31e9d338a7b5ec8b30875bd61ea66ba31308485199cb718a6ae84ec97a7fa37051345212e9390630dffc425a69febdbbcc9765eb7701752349dd5e99258d791562c79bf1c3dd340d6bb88b10e0d5a32911f0196e8c067d1c65cecf8832af6fa45fc4b9089508ad33196e311ba5c17232077c2f2ce4d859be18b882da757c95352cb29f37b99694909b1a2089a3433f1c17da011113a3a3b874443d7d2c75975e1641683f84307e09a070bce3aadade9665ceaf5ab9fceaad7329acb2fa4c5bf9c79c6f713a0c96ffb41600d9492dd3a3dbb15bd23d230c269a49a834dfacb0ae351dc40d1a2a0448275fc11f580e924829392d906d6b7868b0efcb5e0f79923a00b394527809fc0cdc5edb51bc8636cdfca04f1b7eb9a992828bb94c3e935564c75e18234a24facf72e59913b4c4099e58130f47dd37cb0f87a13662795b9dd44b6182ec7a02fa0b4dec0048375728cbfd5f3924ddb25d9f1422114c6dca4d8c1390ba2ba4879b60d0990fee8b6aea2da74d0c9bf86c95b740177c17409e398c52b227cc5dd18446fd29dfccf99f7a73382030ee3d651fa6755908242b7416c476ba811042633499c904463c61503e049dc8cf8b31b7b21de7fffeec4bcd5db49614bad498c6a39fb60c1bc4d2828a082ba340d7b6e79eee921cc1d0483cbbdde9b44db0058088ca61bfe50688a3278483d86e7f223a218943bfd4a8f0f62d2fca8949f94dfe677bccf75883d9449c2ea6cd145025c9399281569bddbc522f51c1f4f7e4e4e67d2789fd813c78d1a6494519628edac80a58cead6ca419ac22232854634fa91c13b6a369289ac8b98f5a16307b0424055b7a20b79218377f87533fc26a01586b003b0d3ed1146b6add40c9e89aa6ba07a402f0bdfc70a99fcd955865b80d8eebf3fd21a737438be71ed3d0745feebc80fbcdd0bb6cc5b186acde1dc7a5946082706c9dd6f901ed44609274cc5d792ce6f87a743359d62489a68950ed5ef87ecd8195f8b0a68f955e1787e1f7108f7b9af10b3ba142893ba4575de9a7456ed2cf1067da3339ffc10fc9210cddb266284a75e0ba3ad78bc034c96a63e275f1c0ded2c1918ede2c520e73c62d132dbb9a0b5f49abedaa58a2aff78979a0faee434567328466f82991c5419430bf0d30cb90c47ed12b838f2f7d4666470cbc6664d5633552b1afdbd219e68ab49ca52fb4732603cf83128c3826724195310a6502f757f954cd7d6010ba0d7029229f497fa2f8efb133d7381be8ed7a51747c6fb754c98c6fd490979e41114846b84b38d48617592d2eb7abb23f9af3215acc31172e5b291a1873672eb9689794aa70aae07aab38c9e82821e55575b99de8d0999d8d5825aac9ee904f0acaa26e3c4b16ac6ea4cb949923860fb37af7ef021cd47a6f7936acdedd29cfcd39be5136422e825892e12c2b593372b008c11afd9fc7969ff777508b75ffc039c2964f14101e7bd40395ad3eacf642106838231ca6a026d23eccb3cf57aaa778baa54a83f63c64177595245d8bb94d18b57222a1447002916cc91074ff8a481471daa3f4143ff4039131ee446984dd2a518e9166b4d27d50ee802c2d0caea82417c6f3a5d80f21177697e8c2c636eb7d6a92c0df3d706c2da57168b6936b4f93339024ea23ce8b20443f62ff662ed9818839668d8d79d6b038186543cdb8a72ae9fa3288da46347c80c0b41cebdb1a1edbb6a52b6ba9ac71a7cb69a7a6bde291d79faaeea91bb0ea06bb5ec8b2abdb0c1e11df811df5af2d57236e90bd87255c6e14866b1825ae1bb00fe56c2e44db0b6323060a38b565b1e089207bc60d1dd3e0419a71acdd31b74731ebd9ebee28b0a32793f9e725ebdabb79ca91b4747e80d84fbfa61e20f63961579799a9cb0dee98a4ea3c5e65b46ab04dbf0ef1136304bb32a6acb9b60fa9578340ad95615d65894cc22ce840540157d465faf35759a1220af8b7d4f1b7ffe71a7a6be9e6f3fd62cdab34cbae4656e5e3256b531bae2d825bcc00a5c56ed0a0250eb8f013465454397d2eeaa64ee6228c86ef51c5eae34e5a6054f05c7cd0e23103ca2f273347311ffd423c6438e5581a109c95a4ed1f8f7de6b0650b8a32cbfd7c7689b908b17f73bcc76910e7e702dff547845ad413e4600fde4b9cb3384b0b14384b38afa2e78e60a493dfb183c7337e0ea2a9de44ec04393711bb3fa6f59eaceb768e045c7297f03f2641baa295b218dcc14a24eeee9edcf6e8d67aabe4678777e942064411cfab6966c06826ccf6aac10072baaed01eb51f0827143713491b257a91144f48afc232ce2e94146a7e2fbaf48c858e41bf62f7343cfcb80ca6efc9f8caeae7c17231a5d6fcf55d091ec6c4225376033f2cd70d52b5aa1e0aab59eb0ec4b54c7bda7a14449494edd3470a0c20a5b8bd4f5285967c779f6ea661b488c81f1405baf63e96cdca8e1cb9672211a06fe04a04a3ab5f468087f73f5ad8875ac063ab56fc891a01acea43c5909006821def6febac6c7a7fca557a3becb9c5b0bb45e99b842394df57594d12d7a278742256a31814329aea616bbfcfc863dc2fd628f4c75a1444aee822e5635a7478945b7c66bf733c15edd2ffe07647371651729b8109cd5dddf608427ae65c4183dbcc7241a2fd4da591ef1991ef0ec90362a4c003a4ba0f0f90d7060de8857ecb95737fec51d1c9bd388ba04d5fbfd862eb9b3f7841b0d52ed4b602bee1e63be76f9ef169c810163b21b5f6008e7a973e279c68ff699082a149cf4f1d5c89e38451bbc91ed3cc0666d73097c1dae06af92a7d949a6a4b96dd012d6d3e06c53579417571e9612922bfcdf65adeef44669d977d4321b07c028dbb62933413237ddd1a596ba10e1a9ccc665e5743dfc9b5387a8b9c137b1f09bb6b3c353fbee8025a65d7ed7deba2b05dfd314f6a40ac7ed6c5f88cad52aba4e35c96d48888be91539a4730fd27e2e3e15a6ae283f451b5103e8f87e1c352f6d0b81057d9066cd935c11df9360ccf991825962173f7a6646939ba3d345d93ca3d706091c104f36320fe64d8cd8d1c05026e5061b689a576fd45a39376e145b4a0fe91dd548ae38c821bccbb05c23eaee0e0c3d0971c4322c27a1bc884c9eb8c20cbf65d4746570d1228c88968ee70aae0f71c69c7f79ee16e27590f3eade842c6ee0af400dd2ac2c7b76aca38f2514795e5ac907eeb60fe7b48443acb1f0d27689ef6407a0d1868e64eeea581a630864f6a6202da27db974c3b4239936a19fdabc0e6a600408f4507af3aae65968c12ea98091760c68dab219fbb6792584c0203b921e71f5dcc73ccdf78b290919546fa1a96f70a03f7d666920fe2798a8928def570d81021cb9d2dae6b54fc1f4a2c9eabb3e00e540fff4b98a64613986f3088bac1085d0688a1325d5863cd04c6aa12a49ebb6525bbe02e22d239bec02c89c0c50002ef4626dfaf1375c6d9eb14b54670b2e2c7b11b60f61e2f750cb3059d0bac5c2bf19452bb59d4878c492689707871b0a8bceb10358318b62d2a7a23a03c2d263df9a5ddafbcf25b1925bd1251034e9cfce6adebfaab99339422ae99d16ab265204f8174a7b6cb27d87cba51e87a43f9a06de13351884e12337d58d4712df8494eee6ec7cf384a90077114ea4658396cab6968529a5bfa6d4f1700e5993d1637c3fb0845ea8e9754a87702a70c5ea2e533a2ef5fa9554a9a34c39904e5acbc962015b63b16e623ea6f9fcd15b78d0b58d3a850bf1dabe462732ed3d9bcf097ea41c7ecbb200c7d74cc81d2c374a5a72a6a90c1877ff64b8214c6b13010a419f7e8df1384b689e4e2b7792a97484f3b1a9f2bd15a603bf4fad5d778a26d86e46774683b5b917ee816615acdd8bc7823239d6c65dc4211d6b70b741a302ac7c290f3e25f7cccf357c8d38f3d8eb92b025bc63e378acb4a51f9ae9a114e79ae874e3f146bac1d18c2ae5223150cb9fb76009f361fdf0292cbf722114947eebf2ac58da70fa2704c14d310ea4294c55a99caab3dce4fee14554355d4f0f2f368e9f73858009d33a77d25ee404a63691e2a2d8daddea7f2de2fc18efa465560f104e1badeca11e34fc73153ad0f7176bef4e207a6f103c4ae6ad1cb0a524567cd17cd811c273ebaa3e9a4e7a3e63e673c6ca171a04fa18b09aed8c138b744d5f7fba8f2eb026e1a655d1f47bb628b808ae82439337ee6cbb08e1df47f9f82737f25585a59d444551c207b956f72f4d08c5986d5b70d07924d31e6d8ac846cf7e8c061e00efbcc5ea8c8eb98be76688f9043ef16635fe5bee7af7a15964832cf74bd9950ff474c60bea480ff7dcb02b2cd086b7edf13afcbf9d88b23565148d0317416d525189f7bb7f31697e7fad56f39f1202df3142494c6afd252d799b20a34fbcaa698c406095633b6cc0eb188537ad773d06f58008ca8caf15d2736854a0dcde42ef8fc4221e54370dda6251c2df3a184192d66f3bcbdca116536d52fb0af03db936504a047ca6cafdf6772deeb0de6b999a52d051755e0fb9209dfd1b2f1f63076b470b86d46c7238676f7ea39f4e3b9d5c7519eb22e36826549ba2baddbe8212ecf3273af32278483fe2052594c42fa1c5c09ce1065e115d45057cd0dc3131cf0fff0d61a8a79de2c8c2e815122b67cd5e34e09ad26670f964640fc0c907fee2023498ff5a24ea4f4e11776fe289c3899dc418dafd215abf1c22af6965d10365702b70c90d41042d1c8659cb653ea24fd795e7de1002e769e6bc1060e5844fd8fb5b37e824fdc4051eb78944755b663fecf808c5f23027d7d8569477b7273fd988004970f54b10e7815851a10c31f55c08fb818c65c12dd4f4a1203eabad295241215f37e8d62dfdd4797a18835af788d073243963ef427300a0de775cb6e1787259aa0e9290dfa0a03eed57921187bf51792cbc8457f7935363a3188c4d2e0e8e1372b9518ef52239b5940da7d42f4264b3dcc3d00c20b5b67b0ab175a23e54e6a3bdfd55cfba320c893987c2c59bbc0e5295d5d61b1f8045fc35e21e194803eacf5a269d3aa8feb14820035ad26f84da1cf9746e77eaaef7d954b1f5a6dcfe093e627380b5dbe8731a5bb9ac599577a1f108c76c45b40adcbdc65bcf8859dbf13cfdd903ed07a402c83a345014f452a6028fa54c625ff820179c295d7345d78f311963967ae2369ff83daaa51e44936ff9bce726fa2b557d092f003a425ca557ced7fcc5ca0256765765dd3671932b27b2dc48c02913dbb9274623a724e348246fdc4dbb6441c39fb1a8bc9adf0e34bb399985f75099ceec76f65804f2cb311a19f624f9a5e97a81ac1b4e3dff3092f39a72b346ad2318b052db4bcd32329a6bcc02257a47050c666f7e213740f4507fbcb9a5296d6bdfd17dce28972775b234f582d292ef55da35d3e418ca8594d2005bb842422167f93fdf39214de3ece7786135e1d3082560b42ef50cfff07b84ef87004a149f02bd108a3d5187d382890a036559b58c064ed5000b4561356d80006a147a4a2e41b3cd1beb68136e421a044ad7a58f6d0c9754ad049cc07cc306a510d510dbf7f5c878cb167b6dbabf9197f0fed0f8add1d73c3e4ae7efa74bf27b45054318356e72b0db4750ef96f253ec54765d5e2884dcd872090d318859210f4fe36c727cc82652a32ecd14c517cb898875109d39b23dda8cf2577f9832d384e033e5e94fa1ca5f6bc785463ca834b7b0356beeb7f3afd41412e53d54e7fba956a6e4e054327d57a48061f3563a08ed847c18e1199846409decf5953aec7e752bce1b28ba8849d6aa42d35cdc6cdf43bdba2d7ff27008999252eaa739ef63b4e718d4fc0bdf918be9841d4ac0d345e9934792ea9a12ce09b0a8cdebccea25e6d9c020a172d5940d94c0fbea6c8a08fe149d2feab863c3f29c466cd4ff6f424de72f30a9776facf70de618d0271df0eaa51a730f6da1b2d0016b6ebb7611d2db547f1be5e61eb06360e7744118282d550ea831ce84857a4308e73fd99c826fac609290841f93d14efd5ceb26ac9b5a3b8ea5701f345bfece4d2e10c62aaa002a7e3d2606501700e91b675f6c2e9444278926164b6d6a0c783e65cd40f9f8f85459c72f86e30a4dc51b80389a657b16e5ea0656e4c7a645f6af2280a73b1000b4eae5742f797d5ba58e36ec1d577d269898b2796046fbaff914f958714b27cf02f64a95d266c218ce2470fbeb308eda95dcf9972c284138adf58a9d0158b08a9b354f720a878064523d9812ba1f5bb2a504a64ecb6d79ffbc7db8f8496ca8d4d0e06a363aaef9c0ebbeb606d6bb164a45abf1d72990802ef6501c0fdda64bdaadd7cc8a921e83be292f9e6f5b44d0b3b22d925cf08","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"414a6f51bebf16788608c4a5ab2bffa2"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
